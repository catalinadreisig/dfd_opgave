---
import PillHeading from "./PillHeading.astro";

import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

const images = import.meta.glob<{ default: ImageMetadata }>("/src/assets/**/*.{jpeg,jpg,png,gif}");
const { alt, imgPath, body = "text" } = Astro.props;
if (!images[imgPath]) throw new Error(`"${imgPath}" does not exist in glob: "src/assets/**/*.{jpeg,jpg,png,gif}"`);
---

<article class="card">
  <div>
    <PillHeading body="SERVICES" color="yellow_bg" />
    <p>{body}</p>
  </div>
  <Image src={images[imgPath]()} alt={alt} />
</article>

<style>
  div {
    background-color: var(--fog_bg);
    border-radius: 29px;
    backdrop-filter: blur(5.5px);
    display: inline-flex;
    padding: 48px 60px 58px 60px;
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
</style>
